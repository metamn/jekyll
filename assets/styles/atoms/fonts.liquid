---
---

{% capture webfonts %}
  {% for page in site.pages %}
    {% if page.title == "Fonts" %}
    {% assign current = page %}
      {% for item in page.items %}
        {{ item.value }}:{{ item.styles | join: ',' }}
      {% endfor %}
    {% endif %}
  {% endfor %}
{% endcapture %}

@import url(http://fonts.googleapis.com/css?family={{ webfonts | strip_newlines | replace: ' ', '' }});

@mixin font($type: body) {
  {% for item in current.items %}{% for mixin in item.mixins %}
    @if ($type == {{ mixin.name }}) {
      font-family: "{{ item.name }}", {{ mixin.font-family }};
      {% for property in mixin.properties %}{{ property.name }}: {{ property.value }};{% endfor %}
    }{% endfor %}{% endfor %}
}
